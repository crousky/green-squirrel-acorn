<div class="project-card">
    <div class="project-thumbnail">
        <img src="@Project.ThumbnailUrl" alt="@Project.Name" />
        <div class="project-status @GetStatusClass()">
            @GetStatusText()
        </div>
    </div>

    <div class="project-content">
        <h3 class="project-title">@Project.Name</h3>
        <p class="project-description">@Project.Description</p>

        @if (Project.Screenshots.Any())
        {
            <div class="project-screenshots">
                @foreach (var screenshot in Project.Screenshots.Take(3))
                {
                    <img src="@screenshot" alt="@Project.Name screenshot" class="screenshot-thumb" />
                }
            </div>
        }

        <div class="project-technologies">
            @foreach (var tech in Project.Technologies)
            {
                <span class="tech-badge">@tech</span>
            }
        </div>

        <div class="project-actions">
            @if (Project.Status == ProjectStatus.Live)
            {
                <a href="@Project.Url" target="_blank" class="btn btn-primary">Visit Project</a>
            }
            else if (Project.Status == ProjectStatus.InDevelopment)
            {
                <button class="btn btn-secondary" disabled>Coming Soon</button>
            }
            else
            {
                <button class="btn btn-outline" disabled>Planned</button>
            }

            @if (Project.HasExtension && !string.IsNullOrEmpty(Project.ExtensionUrl))
            {
                <a href="@Project.ExtensionUrl" target="_blank" class="btn btn-outline">
                    <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"/>
                    </svg>
                    Chrome Extension
                </a>
            }
        </div>
    </div>
</div>

@code {
    [Parameter, EditorRequired]
    public Project Project { get; set; } = default!;

    private string GetStatusClass() => Project.Status switch
    {
        ProjectStatus.Live => "status-live",
        ProjectStatus.InDevelopment => "status-development",
        ProjectStatus.ComingSoon => "status-coming-soon",
        _ => ""
    };

    private string GetStatusText() => Project.Status switch
    {
        ProjectStatus.Live => "Live",
        ProjectStatus.InDevelopment => "In Development",
        ProjectStatus.ComingSoon => "Coming Soon",
        _ => ""
    };
}
